<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì‹ ë¬¸ ì‚¬ì„¤ ê²€ìƒ‰ í”„ë¡œê·¸ë¨</title>
    <style>
        body { font-family: 'Malgun Gothic', sans-serif; max-width: 900px; margin: 0 auto; padding: 20px; background: #f4f7f6; }
        .search-box { background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 30px; text-align: center; }
        input { width: 70%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 16px; }
        button { padding: 12px 25px; background: #2c3e50; color: white; border: none; border-radius: 4px; cursor: pointer; }
        .editorial-card { background: white; padding: 20px; margin-bottom: 15px; border-radius: 8px; border-left: 5px solid #3498db; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .title { color: #2c3e50; font-size: 20px; font-weight: bold; margin-bottom: 10px; }
        .meta { color: #7f8c8d; font-size: 14px; margin-bottom: 15px; }
        .content { font-size: 15px; line-height: 1.6; color: #34495e; }
        .structure-item { margin-top: 5px; padding: 5px; background: #f9f9f9; border-radius: 4px; }
        strong { color: #2980b9; }
    </style>
</head>
<body>

<div class="search-box">
    <h2>ğŸ“° ì‹ ë¬¸ ì‚¬ì„¤ ê²€ìƒ‰ ì‹œìŠ¤í…œ</h2>
    <input type="text" id="searchInput" placeholder="ì œëª©, ì €ì ë˜ëŠ” í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”...">
    <button onclick="searchNews()">ê²€ìƒ‰</button>
</div>

<div id="results"></div>

<script>
    async function searchNews() {
        const query = document.getElementById('searchInput').value.toLowerCase();
        const resultsDiv = document.getElementById('results');
        resultsDiv.innerHTML = "ê²€ìƒ‰ ì¤‘...";

        try {
            // editorials.xml íŒŒì¼ì„ ê°€ì ¸ì˜´
            const response = await fetch('editorials.xml');
            const xmlText = await response.text();
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(xmlText, "text/xml");
            
            const editorials = xmlDoc.getElementsByTagName("editorial");
            let html = "";
            let count = 0;

            for (let item of editorials) {
                const title = item.getElementsByTagName("title")[0].textContent;
                const author = item.getElementsByTagName("author")[0].textContent;
                const date = item.getElementsByTagName("date")[0].textContent;
                const background = item.getElementsByTagName("background")[0].textContent;
                const argument = item.getElementsByTagName("argument")[0].textContent;
                const fact = item.getElementsByTagName("fact")[0].textContent;

                // í†µí•© ê²€ìƒ‰ ë¡œì§ (ì œëª©, ì €ì, ë°°ê²½, ì£¼ì¥ ì¤‘ í•˜ë‚˜ë¼ë„ í¬í•¨ë˜ë©´ í‘œì‹œ)
                if (title.toLowerCase().includes(query) || 
                    author.toLowerCase().includes(query) || 
                    background.toLowerCase().includes(query) ||
                    argument.toLowerCase().includes(query)) {
                    
                    count++;
                    html += `
                        <div class="editorial-card">
                            <div class="title">${title}</div>
                            <div class="meta">ì‘ì„±ì: ${author} | ë‚ ì§œ: ${date}</div>
                            <div class="content">
                                <div class="structure-item"><strong>ë°°ê²½:</strong> ${background}</div>
                                <div class="structure-item"><strong>ì£¼ì¥:</strong> ${argument}</div>
                                <div class="structure-item"><strong>ì‚¬ì‹¤:</strong> ${fact}</div>
                            </div>
                        </div>
                    `;
                }
            }

            resultsDiv.innerHTML = count > 0 ? html : "<p>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>";

        } catch (error) {
            console.error("Error loading XML:", error);
            resultsDiv.innerHTML = "ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";
        }
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì „ì²´ ë¦¬ìŠ¤íŠ¸ í‘œì‹œ
    window.onload = searchNews;
</script>

</body>
</html>
